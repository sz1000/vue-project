(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4c21"],{"7Qib":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a("jWXv")),r=o(a("rfXi")),s=o(a("GQeE")),i=o(a("EJiy"));function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(0===arguments.length)return null;var a=t||"{y}-{m}-{d} {h}:{i}:{s}",n=void 0;"object"===(void 0===e?"undefined":(0,i.default)(e))?n=e:("string"==typeof e&&/^[0-9]+$/.test(e)&&(e=parseInt(e)),"number"==typeof e&&10===e.toString().length&&(e*=1e3),n=new Date(e));var r={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),a:n.getDay()};return a.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,t){var a=r[t];return"a"===t?["日","一","二","三","四","五","六"][a]:(e.length>0&&a<10&&(a="0"+a),a||0)})}function c(e){for(var t=[],a=0;a<e.length;a++)e[a]&&t.push(e[a]);return t}function u(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}t.parseTime=l,t.formatTime=function(e,t){e=10===(""+e).length?1e3*parseInt(e):+e;var a=new Date(e),n=(Date.now()-a)/1e3;if(n<30)return"刚刚";if(n<3600)return Math.ceil(n/60)+"分钟前";if(n<86400)return Math.ceil(n/3600)+"小时前";if(n<172800)return"1天前";return t?l(e,t):a.getMonth()+1+"月"+a.getDate()+"日"+a.getHours()+"时"+a.getMinutes()+"分"},t.getQueryObject=function(e){var t={};return(e=null==e?window.location.href:e).substring(e.lastIndexOf("?")+1).replace(/([^?&=]+)=([^?&=]*)/g,function(e,a,n){var r=decodeURIComponent(a),s=decodeURIComponent(n);return s=String(s),t[r]=s,e}),t},t.byteLength=function(e){for(var t=e.length,a=e.length-1;a>=0;a--){var n=e.charCodeAt(a);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&a--}return t},t.cleanArray=c,t.param=function(e){return e?c((0,s.default)(e).map(function(t){return void 0===e[t]?"":encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&"):""},t.param2Obj=function(e){var t=e.split("?")[1];if(!t)return{};return JSON.parse('{"'+decodeURIComponent(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"').replace(/\+/g," ")+'"}')},t.html2Text=function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText},t.objectMerge=function e(t,a){"object"!==(void 0===t?"undefined":(0,i.default)(t))&&(t={});if(Array.isArray(a))return a.slice();(0,s.default)(a).forEach(function(n){var r=a[n];"object"===(void 0===r?"undefined":(0,i.default)(r))?t[n]=e(t[n],r):t[n]=r});return t},t.toggleClass=function(e,t){if(!e||!t)return;var a=e.className,n=a.indexOf(t);-1===n?a+=""+t:a=a.substr(0,n)+a.substr(n+t.length);e.className=a},t.getTime=function(e){return"start"===e?(new Date).getTime()-7776e6:new Date((new Date).toDateString())},t.debounce=function(e,t,a){var n=void 0,r=void 0,s=void 0,i=void 0,o=void 0,l=function l(){var c=+new Date-i;c<t&&c>0?n=setTimeout(l,t-c):(n=null,a||(o=e.apply(s,r),n||(s=r=null)))};return function(){for(var r=arguments.length,c=Array(r),u=0;u<r;u++)c[u]=arguments[u];s=this,i=+new Date;var h=a&&!n;return n||(n=setTimeout(l,t)),h&&(o=e.apply(s,c),s=c=null),o}},t.deepClone=function e(t){if(!t&&"object"!==(void 0===t?"undefined":(0,i.default)(t)))throw new Error("error arguments","deepClone");var a=t.constructor===Array?[]:{};(0,s.default)(t).forEach(function(n){t[n]&&"object"===(0,i.default)(t[n])?a[n]=e(t[n]):a[n]=t[n]});return a},t.uniqueArr=function(e){return(0,r.default)(new n.default(e))},t.createUniqueString=function(){var e=+new Date+"";return(+(parseInt(65536*(1+Math.random()))+""+e)).toString(32)},t.hasClass=u,t.addClass=function(e,t){u(e,t)||(e.className+=" "+t)},t.removeClass=function(e,t){if(u(e,t)){var a=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(a," ")}},t.opposite=function(e){if(1===e)return 0;if(0===e)return 1},t.priveToYuan=function(e){if(e)return e/100},t.priveToCent=function(e){if(e)return 100*e}},"A/zh":function(e,t,a){},Anht:function(e,t,a){"use strict";var n=a("ck/q");a.n(n).a},Czct:function(e,t,a){"use strict";var n=a("Rtlq");a.n(n).a},P9GQ:function(e,t,a){},RnhZ:function(e,t,a){var n={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-SG":"zavE","./en-SG.js":"zavE","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function r(e){var t=s(e);return a(t)}function s(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id="RnhZ"},Rtlq:function(e,t,a){},X9Rj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAnalysis=function(){return(0,n.default)({url:"api/v1/analysis/count",method:"get"})},t.getUserPortrait=function(e){return(0,n.default)({url:"api/v1/analysis/userPortrait?timeZone="+e,method:"get"})},t.getVisitData=function(e){return(0,n.default)({url:"api/v1/analysis/visitData?"+e,method:"get"})};var n=function(e){return e&&e.__esModule?e:{default:e}}(a("t3Un"))},"ck/q":function(e,t,a){},lAbF:function(e,t,a){"use strict";a.r(t);var n=a("14Xm"),r=a.n(n),s=a("D3Ub"),i=a.n(s),o=a("X9Rj"),l={props:{color:{type:String,required:!1,default:"#40c9c6"},icon:{type:String,required:!1,default:"user1"},bgColor:{type:String,required:!1,default:"#fff"},text:{type:String,required:!1,default:"text"},count:{type:[Number,String],required:!1,default:0}}},c=(a("Anht"),a("KHd+")),u=Object(c.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"count-item"},[a("div",{staticClass:"count-icon",style:{background:e.bgColor,color:e.color}},[a("svg-icon",{attrs:{"icon-class":e.icon}})],1),e._v(" "),a("div",{staticClass:"count-text"},[a("p",{staticStyle:{color:"rgba(0,0,0,.45)"}},[e._v(e._s(e.text))]),e._v(" "),a("p",{staticStyle:{color:"#666"}},[e._v(e._s(e.count))])])])},[],!1,null,"edbb7c80",null);u.options.__file="CountBox.vue";var h=u.exports,d=a("MT78"),f=a.n(d),p=a("7Qib"),v=a("wd/R"),m=a.n(v);a("gX0l");var j={props:{width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{selectType:"visit_nv_total",options:[{label:"访问次数",value:"visit_pv"},{label:"访问人数",value:"visit_uv"},{label:"新用户数",value:"visit_uv_new"},{label:"累计访问人数",value:"visit_nv_total"}],selectTime:7,foamatTime:"",userSelectTime:"",timeOptions:[{value:7,label:"最近7天"},{value:30,label:"最近30天"}],countArr:[],timeArr:[],chart:null}},watch:{userSelectTime:function(e){var t="from="+m()(e[0]).format("YYYY-MM-DD")+"&to="+m()(e[1]).format("YYYY-MM-DD");this.foamatTime=t,this.initData()}},mounted:function(){var e=this;this.timeChang(7),this.__resizeHandler=Object(p.debounce)(function(){e.chart&&e.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{typeChang:function(e){this.initData()},timeChang:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5*e),this.userSelectTime=[a,t]},initData:function(){var e=this;return i()(r.a.mark(function t(){var a,n,s,i,l,c;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.foamatTime,t.next=3,Object(o.getVisitData)(a);case 3:n=t.sent,s=e.selectType,i=[],l=[],c=0,n.data.forEach(function(e,t){l.push(e.date.split(" ")[0]),"visit_nv_total"===s?(c+=e.visit_uv,i.push(c)):i.push(e[s])}),e.countArr=i,e.timeArr=l,e.initChart();case 12:case"end":return t.stop()}},t,e)}))()},initChart:function(){this.chart=f.a.init(this.$refs.chart,"macarons"),this.chart.setOption({tooltip:{show:!0,trigger:"axis",axisPointer:{type:"cross",label:{}}},xAxis:{type:"category",axisTick:{alignWithLabel:!0},data:this.timeArr},yAxis:{},series:[{name:"数量",type:"line",smooth:!1,data:this.countArr}]})}}},g=(a("lyDW"),Object(c.a)(j,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"linChart"},[a("div",{staticClass:"options"},[a("div",[a("el-select",{staticClass:"itemSelect",attrs:{placeholder:"请选择"},on:{change:e.typeChang},model:{value:e.selectType,callback:function(t){e.selectType=t},expression:"selectType"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"block"},[a("el-select",{attrs:{size:"small",placeholder:"请选择"},on:{change:e.timeChang},model:{value:e.selectTime,callback:function(t){e.selectTime=t},expression:"selectTime"}},e._l(e.timeOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-date-picker",{attrs:{type:"daterange",size:"small","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.userSelectTime,callback:function(t){e.userSelectTime=t},expression:"userSelectTime"}})],1)]),e._v(" "),a("div",{ref:"chart",style:{height:e.height,width:e.width}})])},[],!1,null,null,null));g.options.__file="LineChart.vue";var b=g.exports;a("gX0l");var y={props:{width:{type:String,default:"100%"},height:{type:String,default:"300px"},xAxisData:{type:Array,default:function(){return[]}},showData:{type:Array,default:function(){return[]}}},data:function(){return{chart:null,options:null}},watch:{xAxisData:function(e){this.chart&&(this.options.xAxis.data=e,this.options.series[0].data=this.showData,this.draw())}},mounted:function(){var e=this;return i()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.initChart(),e.__resizeHandler=Object(p.debounce)(function(){e.chart&&e.chart.resize()},100),window.addEventListener("resize",e.__resizeHandler);case 3:case"end":return t.stop()}},t,e)}))()},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=f.a.init(this.$el,"macarons"),this.options={title:{text:"年龄占比",bottom:10,left:"45%",textStyle:{fontSize:14,color:"#666",fontWeight:500}},legend:{name:"系列1",icon:"circle"},xAxis:{data:["a","b","c"]},yAxis:{max:function(e){return e.max+2}},series:[{type:"bar",barWidth:20,data:[1,23,3],label:{show:!0,position:"top",formatter:"{@score}/人"},itemStyle:{barBorderRadius:[5,5,0,0],shadowColor:"rgba(0, 0, 0, 0.3)",shadowBlur:4}}]}},draw:function(){this.chart.setOption(this.options)}}},x=Object(c.a)(y,function(){var e=this.$createElement;return(this._self._c||e)("div",{style:{height:this.height,width:this.width}})},[],!1,null,null,null);x.options.__file="BarChat.vue";var w=x.exports;a("gX0l");var _={props:{width:{type:String,default:"100%"},height:{type:String,default:"300px"},value:{type:Object,require:!0,default:function(e){return{showData:[],axis:[]}}}},data:function(){return{chart:null,options:null}},watch:{value:{handler:function(e){console.log("TCL: params",e),this.chart&&(this.options.series[0].data=this.value.showData,this.draw())},deep:!0}},mounted:function(){var e=this;return i()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.initChart(),e.__resizeHandler=Object(p.debounce)(function(){e.chart&&e.chart.resize()},100),window.addEventListener("resize",e.__resizeHandler);case 3:case"end":return t.stop()}},t,e)}))()},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=f.a.init(this.$el,"macarons"),this.options={title:{text:"性别占比",bottom:10,left:"45%",textStyle:{fontSize:14,color:"#666",fontWeight:500}},legend:{name:"系列1",icon:"circle"},series:[{type:"pie",roseType:"radius",radius:["40%","60%"],barWidth:20,data:[{name:"男",value:"0"},{name:"女",value:"0"}],label:{show:!0,position:"top",formatter:"{@score}/人"},itemStyle:{barBorderRadius:[5,5,0,0],shadowColor:"rgba(0, 0, 0, 0.3)",shadowBlur:4}}]},this.draw()},draw:function(){this.chart.setOption(this.options)}}},C=Object(c.a)(_,function(){var e=this.$createElement;return(this._self._c||e)("div",{style:{height:this.height,width:this.width}})},[],!1,null,null,null);C.options.__file="pieChat.vue";var D=C.exports,k=a("GQeE"),z=a.n(k);a("gX0l");var T={props:{width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{type:"access_source_visit_uv",typeOptions:[{value:"access_source_session_cnt",label:"打开次数"},{value:"access_source_visit_uv",label:"访问人数"}],foamatTime:"",userSelectTime:"",selectTime:7,timeOptions:[{value:7,label:"最近7天"},{value:30,label:"最近30天"}],tampArr:[],checkboxGroup1:[],xAxisArr:[],showData:[],chart:null,options:null}},watch:{userSelectTime:function(e){var t="from="+m()(e[0]).format("YYYY-MM-DD")+"&to="+m()(e[1]).format("YYYY-MM-DD");this.foamatTime=t,this.initData()}},mounted:function(){var e=this;return i()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.timeChang(7),e.__resizeHandler=Object(p.debounce)(function(){e.chart&&e.chart.resize()},100),window.addEventListener("resize",e.__resizeHandler);case 3:case"end":return t.stop()}},t,e)}))()},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{typeChang:function(e){console.log("TCL: typeChang -> type",e),this.initData()},timeChang:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5*e),this.userSelectTime=[a,t]},changAxis:function(e){var t=this;console.log("TCL: changAxis -> index",e);var a=[];e.forEach(function(e){a.push(t.tampArr[e])}),this.initChart(e,a)},initData:function(){var e=this;return i()(r.a.mark(function t(){var a,n,s,i,l;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e,n=e.foamatTime,s=[],t.next=5,Object(o.getVisitData)(n);case 5:t.sent.data.forEach(function(t,n){t[e.type].forEach(function(e){e.key=a.keyData(e.key),s[e.key]?s[e.key]+=e.value:s[e.key]=e.value})}),i=z()(s),l=[],i.forEach(function(e){l.push(s[e])}),e.tampArr=s,e.xAxisArr=i,e.checkboxGroup1=i,e.showData=l,e.initChart(i,l);case 15:case"end":return t.stop()}},t,e)}))()},initChart:function(e,t){this.chart=f.a.init(this.$refs.sourceChart,"macarons"),this.chart.setOption({legend:{name:"系列1",icon:"circle"},grid:{top:10},xAxis:{data:e},yAxis:{max:function(e){return e.max+2}},series:[{type:"bar",barWidth:20,data:t,label:{show:!0,position:"top",formatter:"{@score}/人"},itemStyle:{barBorderRadius:[5,5,0,0],shadowColor:"rgba(0, 0, 0, 0.3)",shadowBlur:4}}]})},keyData:function(e){return["","小程序历史列表","搜索","会话","扫一扫二维码","公众号主页","聊天顶部","系统桌面","小程序主页","附近的小程序","其他","模板消息","","公众号菜单","APP分享","支付完成页","长按识别二维码","相册选取二维码","公众号文章","钱包","卡包","小程序内卡券","其他小程序","其他小程序返回","卡券适用门店列表","搜索框快捷入口","小程序客服消息","公众号下发","","任务栏-最近使用","长按小程序菜单圆点","连wifi成功页","城市服务","微信广告","其他移动应用","发现入口-我的小程序","任务栏-我的小程序"][e]}}},S=(a("zOux"),Object(c.a)(T,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"head"},[a("P",[e._v("整体来源分布")]),e._v(" "),a("div",{staticClass:"head-select"},[a("el-select",{attrs:{size:"small",placeholder:"请选择"},on:{change:e.typeChang},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.typeOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择"},on:{change:e.timeChang},model:{value:e.selectTime,callback:function(t){e.selectTime=t},expression:"selectTime"}},e._l(e.timeOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-date-picker",{attrs:{type:"daterange",size:"small","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.userSelectTime,callback:function(t){e.userSelectTime=t},expression:"userSelectTime"}})],1)],1),e._v(" "),a("div",{staticClass:"xselect"},[a("el-checkbox-group",{attrs:{fill:"rgb(64, 201, 198)"},on:{change:e.changAxis},model:{value:e.checkboxGroup1,callback:function(t){e.checkboxGroup1=t},expression:"checkboxGroup1"}},e._l(e.xAxisArr,function(t,n){return a("el-checkbox-button",{key:n,attrs:{border:!1,label:t}},[e._v(e._s(t))])}))],1),e._v(" "),a("div",{ref:"sourceChart",style:{height:e.height,width:e.width}})])},[],!1,null,"6cee2260",null));S.options.__file="SourceBarChart.vue";var O={name:"Dashboard",components:{CountBox:h,LineChart:b,BarChat:w,pieChat:D,SourceBarChart:S.exports},data:function(){return{color1:"#40c9c6",color2:"#fff",analysisData:{orderCount:"",priceCount:"",productCount:"",userCount:""},genders:{showData:[]},userType:"visit_uv_new",userTypeSelect:[{value:"visit_uv_new",label:"新增用户数"},{value:"visit_uv",label:"活跃用户数"}],userTime:"1",userTimeSelect:[{value:"1",label:"最近7天数据"},{value:"2",label:"最近30天数据"}],refData:"",showData:[],xAxisData:[]}},mounted:function(){this.analysisServe(),this.initData()},methods:{initData:function(e){var t=this;return i()(r.a.mark(function e(){var a,n,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.getUserPortrait)(t.userTime);case 2:a=e.sent,n=[],s=[],a.data[t.userType].ages.forEach(function(e,t){n.push(e.value),s.push(e.name)}),t.refData=a.data.ref_date,t.genders.showData=a.data[t.userType].genders,t.showData=n,t.xAxisData=s;case 10:case"end":return e.stop()}},e,t)}))()},analysisServe:function(){var e=this;return i()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.getAnalysis)();case 2:a=t.sent,e.analysisData=a.data;case 4:case"end":return t.stop()}},t,e)}))()}}},A=(a("Czct"),Object(c.a)(O,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard"},[a("div",{staticClass:"dashboard-container"},[a("el-row",{staticClass:"count-container",attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:5}},[a("CountBox",{attrs:{count:e.analysisData.userCount,text:"用户数量"}})],1),e._v(" "),a("el-col",{staticClass:"count-item",attrs:{span:5}},[a("CountBox",{attrs:{count:e.analysisData.productCount,text:" 商品数量",icon:"product",color:"#36a3f7"}})],1),e._v(" "),a("el-col",{staticClass:"count-item",attrs:{span:5}},[a("CountBox",{attrs:{count:e.analysisData.orderCount,text:"总订单量",icon:"order",color:"#f4516c"}})],1),e._v(" "),a("el-col",{staticClass:"count-item",attrs:{span:5}},[a("CountBox",{attrs:{count:e.analysisData.priceCount/100,text:" 总销售额",icon:"money",color:"#34bfa3"}})],1)],1),e._v(" "),a("div",[a("LineChart")],1),e._v(" "),a("div",{staticClass:"chartbox"},[a("div",{staticClass:"chartbox-head"},[a("P",[e._v("性别及年龄分布")]),e._v(" "),a("div",[a("el-select",{attrs:{size:"small",placeholder:"请选择类型"},on:{change:e.initData},model:{value:e.userType,callback:function(t){e.userType=t},expression:"userType"}},e._l(e.userTypeSelect,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择时间"},on:{change:e.initData},model:{value:e.userTime,callback:function(t){e.userTime=t},expression:"userTime"}},e._l(e.userTimeSelect,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("span",{staticStyle:{color:"#66666660","font-size":"14px"}},[e._v(e._s(e.refData))])],1)],1),e._v(" "),a("div",{staticClass:"personas"},[a("div",{staticClass:"age"},[a("pieChat",{attrs:{value:e.genders}})],1),e._v(" "),a("div",{staticClass:"age"},[a("BarChat",{attrs:{"x-axis-data":e.xAxisData,"show-data":e.showData}})],1)]),e._v(" "),a("div",{staticClass:"sourceBar"},[a("SourceBarChart")],1)])],1)])},[],!1,null,"18e1478e",null));A.options.__file="index.vue";t.default=A.exports},lyDW:function(e,t,a){"use strict";var n=a("A/zh");a.n(n).a},zOux:function(e,t,a){"use strict";var n=a("P9GQ");a.n(n).a}}]);