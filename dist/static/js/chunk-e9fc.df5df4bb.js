(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e9fc"],{"+IKh":function(t,e,i){"use strict";var n={props:{title:{type:String,required:!0,placeholder:"请输入一个标题"},placeholder:{type:String,required:!1,default:"请输入内容"},tipText:{type:String,required:!1,default:""},name:{type:String,required:!1,default:""},value:{type:[String,Number],required:!1,default:""},itemKey:{type:String||Number,required:!1,default:null}},computed:{tipMain:function(t){if(this.tipText&&this.tipText.length>0)return this.tipText.split(":")[0]+":"},tipSub:function(){if(this.tipText&&this.tipText.length>0)return this.tipText.split(":")[1]}},methods:{nameChang:function(t){this.$emit("update:value",t)}}},r=(i("Bbut"),i("KHd+")),o=Object(r.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:2}},[i("h3",[t._v(t._s(t.title)+" ")])]),t._v(" "),i("el-col",{attrs:{span:10}},[t._t("default",[i("el-input",{attrs:{value:t.value,placeholder:t.placeholder},on:{change:t.nameChang}})])],2),t._v(" "),i("el-col",{attrs:{span:12}},[i("h4",{staticStyle:{}},[t._v(t._s(t.tipMain))]),t._v(" "),i("p",[t._v(t._s(t.tipSub))])])],1)],1)},[],!1,null,"b3fa24da",null);o.options.__file="index.vue";e.a=o.exports},"+hRt":function(t,e,i){"use strict";var n=i("aiWw");i.n(n).a},"/8Re":function(t,e,i){"use strict";var n=i("Su+a");i.n(n).a},18:function(t,e){},19:function(t,e){},"1MCi":function(t,e,i){"use strict";var n=i("wSkH");i.n(n).a},"1YHe":function(t,e,i){},20:function(t,e){},21:function(t,e){},"2lAw":function(t,e,i){"use strict";var n=i("vYwx");i.n(n).a},"5x1B":function(t,e,i){"use strict";var n=i("xJXX");i.n(n).a},"6htJ":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"]},"9fVM":function(t,e,i){"use strict";var n=i("1YHe");i.n(n).a},"9re7":function(t,e,i){},BZZ2:function(t,e,i){"use strict";i.r(e);var n=i("/f1G"),r=i.n(n),o=i("GQeE"),a=i.n(o),s=i("EJiy"),l=i.n(s),c=i("oF3Q"),u=i.n(c),p=i("FyfS"),d=i.n(p),f=i("sk9p"),m=i.n(f),v=i("14Xm"),h=i.n(v),g=i("D3Ub"),b=i.n(g),y=i("xMja"),_=i("VpLE"),j=i("cpj6"),x=i("+IKh"),k=i("tcnC"),w={components:{ImgCropper:k.a},props:{defalutArr:{type:Array,required:!0}},watch:{defalutArr:function(t){var e=[];t.forEach(function(t){""!==t&&e.push(t)}),this.$emit("update:defalut-arr",e)}},methods:{getData:function(t){var e=!0,i=!1,n=void 0;try{for(var r,o=d()(u()(t));!(e=(r=o.next()).done);e=!0){var a=r.value,s=m()(a,2),l=s[0],c=s[1];this.imgArr.splice(l-1,1,c)}}catch(t){i=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}this.$emit("update:defalut-arr",this.imgArr)}}},T=(i("1MCi"),i("KHd+")),S=Object(T.a)(w,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"layout"},t._l(4,function(e){return i("ImgCropper",{key:e,attrs:{"fixed-number":[750,670],value:t.defalutArr[e-1]},on:{"update:value":function(i){t.$set(t.defalutArr,e-1,i)}}})}))},[],!1,null,"4bc91ade",null);S.options.__file="ContentImgs.vue";var C=S.exports,P=i("YEIV"),D=i.n(P),I=i("wd/R"),O=i.n(I),E={props:{startTime:{type:String,required:!0},endTime:{type:String,required:!0},startKey:{type:String,required:!0,default:""},endKey:{type:String,required:!0,default:""}},data:function(){return{selecteData:""}},watch:{startTime:function(t){var e=Date.parse(O()(this.startTime)),i=Date.parse(O()(this.endTime)),n=parseInt(O.a.duration(i-e).asMonths());n>13&&(n=99),this.selecteData=n}},methods:{change:function(t){var e,i=void 0;i=this.startTime?this.startTime:O()().format("YYYY-MM-DD");var n="999"===t?O()("2038-01-01").format("YYYY-MM-DD"):O()().add(t,"M").format("YYYY-MM-DD");this.$emit("send",(e={},D()(e,this.startKey,i),D()(e,this.endKey,n),e))}}},q=Object(T.a)(E,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-radio-group",{on:{change:t.change},model:{value:t.selecteData,callback:function(e){t.selecteData=e},expression:"selecteData"}},[i("el-radio-button",{attrs:{label:"99"}},[t._v("永远")]),t._v(" "),i("el-radio-button",{attrs:{label:"1"}},[t._v("一个月")]),t._v(" "),i("el-radio-button",{attrs:{label:"2"}},[t._v("两个月")]),t._v(" "),i("el-radio-button",{attrs:{label:"3"}},[t._v("三个月")])],1)],1)},[],!1,null,null,null);q.options.__file="SelectTimeMonth.vue";var M=q.exports,z={props:{title:{type:String,required:!1,default:"自定义上架时间："},startTime:{type:String,required:!0,default:""},endTime:{type:String,required:!0,default:""},startKey:{type:String,required:!1,default:""},endKey:{type:String,required:!1,default:""}},data:function(){return{}},computed:{timeArr:{get:function(){if(this.startTime&&this.endTime){var t=[];return t.push(this.startTime),t.push(this.endTime),t}},set:function(t){console.log("TCL: params",t),t?(this.$emit("update:startTime",t[0]),this.$emit("update:endTime",t[1])):null===t&&(this.$emit("update:startTime",""),this.$emit("update:endTime",""))}}}},$=(i("gsVZ"),Object(T.a)(z,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"time-container",staticStyle:{"margin-top":"10px"}},[i("p",[t._v(t._s(t.title))]),t._v(" "),i("el-date-picker",{attrs:{type:"datetimerange",align:"right","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.timeArr,callback:function(e){t.timeArr=e},expression:"timeArr"}})],1)},[],!1,null,"0df79d46",null));$.options.__file="SelecteTime.vue";var L=$.exports,U={inheritAttrs:!1,props:{label:{type:String,required:!1,default:"默认的标签"},value:{type:String||Number,required:!0,default:""}},data:function(){return{pp:"qweqeq"}},methods:{changValue:function(){this.value+="qaqaqaq"}}},V=Object(T.a)(U,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("label",[i("button",{on:{click:function(e){t.$emit("send",t.pp)}}},[t._v(t._s(t.value))])])])},[],!1,null,null,null);V.options.__file="test.vue";var Y=V.exports,K=i("glbJ"),R=i("xtIY"),A={components:{Preview:j.a,PhoneTitle:R.a},props:{options:{type:Object,required:!1,default:function(){return{name:"",contentImgs:[]}}}},data:function(){return{}},computed:{},mounted:function(){}},B=(i("+hRt"),Object(T.a)(A,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Preview",[i("div",{staticStyle:{width:"100%",position:"relative"}},[i("div",{staticClass:"carousel"},[i("el-carousel",{attrs:{height:"228px","indicator-position":"none"}},t._l(t.options.contentImgs,function(t,e){return i("el-carousel-item",{key:e},[i("img",{attrs:{src:t,alt:"",srcset:""}})])}))],1),t._v(" "),i("div",[2!==t.options.type?i("div",[i("span",{staticClass:"payPrice"},[t._v("￥"+t._s(t._f("priveToYuan")(t.options.price)))]),t._v(" "),i("span",{staticClass:"oriPrice"},[t._v(t._s(t._f("priveToYuan")(t.options.oriPrice)))])]):t._e(),t._v(" "),i("PhoneTitle",{attrs:{"title-name":"项目名称"}},[i("div",{staticClass:"titleName"},[t._v("\n            "+t._s(t.options.name||"")+"\n          ")])]),t._v(" "),i("PhoneTitle",{attrs:{"title-name":"项目简介"}},[i("div",{staticClass:"detailProdact",domProps:{innerHTML:t._s(t.options.detail)}})]),t._v(" "),i("div",{staticClass:"bottom"},[i("div",{staticClass:"bottom-price"},[0!==t.options.type?i("div",[i("span",[t._v("\n                "+t._s(2===t.options.type?"预约支付:":"全款支付:")+"\n              ")]),t._v(" "),i("span",{staticStyle:{color:"#F53A2F"}},[t._v("\n                ￥"+t._s(t._f("priveToYuan")(1===t.options.type?t.options.payPrice:t.options.price))+"\n              ")])]):t._e(),t._v(" "),1===t.options.type?i("div",[i("span",[t._v("\n                到院再付:\n              ")]),t._v(" "),i("span",[t._v("\n                ￥"+t._s(t._f("priveToYuan")(t.options.price-t.options.payPrice))+"\n              ")])]):t._e(),t._v(" "),2===t.options.type?i("div",[i("span",[t._v("\n                到院支付:以实际沟通为准\n              ")])]):t._e()]),t._v(" "),i("div",{staticClass:"bayBottom"},[i("span",{staticStyle:{"font-weight":"600"}},[t._v("买")]),t._v(" "),i("span",{staticStyle:{"font-size":"10px"}},[t._v("折扣优惠")])])])],1)])])],1)},[],!1,null,"3c6a5dd4",null));B.options.__file="ProductView.vue";var F=B.exports,Q=i("qr6c"),X=i.n(Q),H={components:{TitleTabs:_.a,Preview:j.a,Row:x.a,ImgCropper:k.a,ContentImgs:C,SelectTimeMonth:M,SelecteTime:L,test:Y,Tinymce:K.a,ProductView:F},data:function(){var t=this;return{id:null,isSubmit:!0,rules:{name:{required:!0,message:"请输入商品名称",trigger:"blur"},coverImg:{required:!0,message:"请上传封面图",trigger:"blur"},contentImgs:{type:"array",required:!0,min:1,message:"请至少上传一张轮播图"},cateId:{required:!0,message:"请选择一级类目",trigger:"blur"},cateSubId:{required:!0,message:"请选择二级类目",trigger:"blur"},payPrice:{required:!0,message:"请输入预约价格1",type:"number",min:1,trigger:"blur"},price:{validator:function(e,i,n){2===t.options.type&&""!==t.options.price&&t.options.price>0?(console.log("TCL: payPriceValidate -> this.options.type",t.options.type),console.log("asdasdasd",t.options.payPrice),n()):2===t.options.type?(e.message="请输入预约价格",n(e)):t.price>0?n():n(e)},required:!0,message:"请输入商品价格",trigger:"blur"},type:{required:!0,message:"请选择支付方式",trigger:"blur"},saleEndTime:{required:!0,message:"请选择上架时间",trigger:"blur"},validDays:{required:!0,message:"请选择有效日期",trigger:"blur"},validEndTime:{required:!0,message:"请选择有效日期",trigger:"blur"},detail:{required:!0,message:"请编写商品详情页",trigger:"blur"}},options:{orgId:1,name:"",coverImg:"",contentImgs:[],salePolicy:1,saleStartTime:"",saleEndTime:"",cateId:"",cateSubId:"",spec:"",unit:"",type:"",price:0,oriPrice:null,payPrice:0,doctorId:0,validPolicy:1,validDays:0,validStartTime:"",validEndTime:"",detail:"",desc:""},productTypeSelect:[],productTypeSelect1:[],spec:"",specUnit:"",specUnitSelect:[{value:"ML"},{value:"L"},{value:"次"},{value:"部位"}],priceTypeSelect:[{value:0,label:"全款支付"},{value:1,label:"预约购买"},{value:2,label:"预约"}],doctorList:[],disPrice:"",editeToolbar:["bold italic strikethrough | emoticons forecolor backcolor | alignleft aligncenter alignright |cut copy paste | undo redo removeformat"],username:"asdads",test:"test",oprions:{},pp:"changData"}},computed:{price:{get:function(t){return null==this.options.price?null:X.a.round(X.a.dotDivide(this.options.price||0,100),2)},set:function(t){console.log("TCL: params",t),this.options.price=X.a.fix(100*t)}},oriPrice:{get:function(t){return console.log("this.options.price",this.options.price),null==this.options.price?null:X.a.round(X.a.dotDivide(this.options.oriPrice||0,100),2)},set:function(t){console.log("TCL: params",t),this.options.oriPrice=void 0==t?null:X.a.fix(100*t)}},payPrice:{get:function(t){return X.a.round(X.a.dotDivide(this.options.payPrice||0,100),2)},set:function(t){this.options.payPrice=X.a.fix(100*t)}}},watch:{spec:function(t){var e=this.options.spec.split("-");this.options.spec=t+"-"+e[e.length-1],console.log(this.options.spec)}},mounted:function(){var t=this;return b()(h.a.mark(function e(){var i,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.$route),t.getdoctorList(),!t.$route.params.id){e.next=12;break}return t.id=t.$route.params.id,e.next=6,Object(y.getOneProduct)(t.$route.params.id);case 6:i=e.sent,console.log("TCL: mounted -> productData",i),n=t.undelinToHump(i.data),t.productTypeChange(n.cateId),t.options=n,console.log("TCL: mounted -> this.options",t.options);case 12:return e.next=14,Object(y.categories)({level:1});case 14:e.sent.data.forEach(function(e){t.productTypeSelect.push({value:e.name,label:e.id})});case 16:case"end":return e.stop()}},e,t)}))()},methods:{getdoctorList:function(){var t=this;return b()(h.a.mark(function e(){var i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.getDoctorList)();case 2:i=e.sent,t.doctorList=i.data,console.log("TCL: getdoctorList -> this.doctorList",t.doctorList);case 5:case"end":return e.stop()}},e,t)}))()},getData:function(t){var e=!0,i=!1,n=void 0;try{for(var r,o=d()(u()(t));!(e=(r=o.next()).done);e=!0){var a=r.value,s=m()(a,2),l=s[0],c=s[1];this.options.hasOwnProperty(l)?this.options[l]=c:console.error("没有找到options下对应的KEY：请检查上一级的参数")}}catch(t){i=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}},productTypeChange:function(t){var e=this;return b()(h.a.mark(function i(){var n,r;return h.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.options.cateSubId="",i.next=3,Object(y.categories)({parentId:t});case 3:n=i.sent,r=new Array(0),e.oprions.cateSubId="",n.data.forEach(function(t){r.push({value:t.name,label:t.id})}),e.productTypeSelect1=r;case 8:case"end":return i.stop()}},i,e)}))()},specUnitChange:function(t){},priceTypeChange:function(t){this.options.price=0,this.options.oriPrice=0,this.options.payPrice=0,this.disPrice=0},disPriceChange:function(t){2===this.options.type?this.options.price=t:1===this.oprions.type&&(this.options.price=t)},validSelectMonth:function(t){this.options.validDays=t},undelinToHump:function(t){if(console.log(void 0===t?"undefined":l()(t)),"object"===(void 0===t?"undefined":l()(t))){var e=a()(t),i=r()(t),n=[];e.forEach(function(t){var e=t.replace(/\_(\w)/g,function(t,e){return e.toUpperCase()});n.push(e)});var o={};return i.forEach(function(t,e){o[n[e]]=t}),o}console.error("undelinToHump:只接受对象")},getDetail:function(t){this.options.detail=t},submitData:function(){var t=this;return b()(h.a.mark(function e(){var i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t,console.log("this.oriPrice)",t.options.oriPrice),!(t.oriPrice<t.price||t.oriPrice<t.payPrice)){e.next=6;break}if(2===t.options.type||null===t.options.oriPrice){e.next=6;break}return t.$message.error("门店价格不能小于商品价格或预约价格！"),e.abrupt("return");case 6:t.$refs.form.validate(function(){var e=b()(h.a.mark(function e(n,r,o){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=21;break}if(t.isSubmit){e.next=3;break}return e.abrupt("return");case 3:if(t.isSubmit=!1,console.log(t.options),0===t.options.validPolicy?(delete t.options.validStartTime,delete t.options.validEndTime):0===t.options.validPolicy&&delete t.options.validDays,!t.id){e.next=14;break}return e.next=9,Object(y.putPruduct)(t.id,t.options).catch(function(t){console.error("error",t),i.$message.error("出错了！"),i.isSubmit=!0});case 9:t.isSubmit=!0,t.$message({message:"修改成功！",type:"success"}),t.$router.push({path:"/prodect/list"}),e.next=19;break;case 14:return e.next=16,Object(y.productServe)("post",t.options).catch(function(t){console.error("error",t),i.$message.error("出错了！"),i.isSubmit=!0});case 16:t.isSubmit=!0,t.$message({message:"添加成功",type:"success"}),t.$router.push({path:"/prodect/list"});case 19:e.next=24;break;case 21:return console.log(n),t.$message.error("请完善详细!"),e.abrupt("return",!1);case 24:case"end":return e.stop()}},e,t)}));return function(t,i,n){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}},e,t)}))()}}},N=(i("/8Re"),Object(T.a)(H,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"contant-container",staticStyle:{"margin-top":"30px"}},[i("div",{staticClass:"left-container"},[i("TitleTabs",{attrs:{text:"预览"}}),t._v(" "),i("div",{staticClass:"sub-container"},[i("ProductView",{staticClass:"preview",attrs:{options:t.options},on:{"update:options":function(e){t.options=e}}})],1)],1),t._v(" "),i("div",{staticClass:"right-container"},[i("TitleTabs",{attrs:{text:"编辑"}}),t._v(" "),i("div",{staticClass:"sub-container"},[i("div",{staticClass:"edit-container1"},[i("el-form",{ref:"form",staticClass:"edit-container",attrs:{rules:t.rules,model:t.options,"label-width":"80px"}},[i("h3",[t._v("基本信息")]),t._v(" "),i("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[i("el-col",{attrs:{span:11}},[i("el-input",{model:{value:t.options.name,callback:function(e){t.$set(t.options,"name",e)},expression:"options.name"}})],1)],1),t._v(" "),i("el-form-item",{attrs:{prop:"coverImg",label:"封面图片"}},[i("el-row",[i("el-col",{attrs:{span:11}},[i("ImgCropper",{attrs:{"fixed-number":[1,1],value:t.options.coverImg},on:{"update:value":function(e){t.$set(t.options,"coverImg",e)}}})],1),t._v(" "),i("el-col",[i("span",{staticClass:"prompt"},[t._v("注：此图片为商品列表的展示图，建议尺寸160*160像素")])])],1)],1),t._v(" "),i("el-form-item",{attrs:{prop:"contentImgs",label:"轮播图"}},[i("el-row",[i("el-col",{attrs:{span:11}},[i("ContentImgs",{attrs:{"defalut-arr":t.options.contentImgs},on:{"update:defalutArr":function(e){t.$set(t.options,"contentImgs",e)}}})],1)],1)],1),t._v(" "),i("el-row",{staticStyle:{margin:"-30px 0 20px 80px"}},[i("el-col",[i("p",{staticClass:"prompt"},[t._v("\n                  提示:\n                  1. 至少上传一张图片\n                  2. 图片文件大小不能超过2M\n                  3.支持JPG，PNG 格式\n                  4.建议尺寸750*670像素，不同像素在添加过程会提供等比例图片裁剪功能\n                ")])])],1),t._v(" "),i("el-form-item",{attrs:{label:"商品类目"}},[i("el-row",[i("el-col",{attrs:{span:6,sm:20,md:10,lg:6}},[i("el-form-item",{attrs:{prop:"cateId"}},[i("el-select",{attrs:{placeholder:"请选择一级类目"},on:{change:t.productTypeChange},model:{value:t.options.cateId,callback:function(e){t.$set(t.options,"cateId",e)},expression:"options.cateId"}},t._l(t.productTypeSelect,function(t,e){return i("el-option",{key:e,attrs:{label:t.value,value:t.label}})}))],1)],1),t._v(" "),i("el-col",{attrs:{span:6,sm:20,md:10,lg:6}},[i("el-form-item",{attrs:{prop:"cateSubId"}},[i("el-select",{attrs:{placeholder:"请选择二级类目"},model:{value:t.options.cateSubId,callback:function(e){t.$set(t.options,"cateSubId",e)},expression:"options.cateSubId"}},t._l(t.productTypeSelect1,function(t,e){return i("el-option",{key:e,attrs:{label:t.value,value:t.label}})}))],1)],1),t._v(" "),i("el-col",[i("p",{staticClass:"prompt"},[t._v("注：一级类目为必填，二级类目可选填")])])],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"支付方式",prop:"type"}},[i("el-row",[i("el-select",{attrs:{placeholder:"请选择支付方式"},on:{change:t.priceTypeChange},model:{value:t.options.type,callback:function(e){t.$set(t.options,"type",e)},expression:"options.type"}},t._l(t.priceTypeSelect,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),i("div",{staticClass:"priceStyle"},[0===t.options.type||1===t.options.type?i("el-form-item",{attrs:{label:"门店价格"}},[i("el-input-number",{attrs:{step:100,min:0,size:"small","controls-position":"right"},model:{value:t.oriPrice,callback:function(e){t.oriPrice=e},expression:"oriPrice"}})],1):t._e(),t._v(" "),0===t.options.type||1===t.options.type?i("el-form-item",{attrs:{label:"商品价格",prop:"price"}},[i("el-input-number",{attrs:{step:100,min:0,size:"small","controls-position":"right"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1):t._e(),t._v(" "),2===t.options.type||1===t.options.type?i("el-form-item",{attrs:{prop:1===t.options.type?"payPrice":"price",label:"预约价格"}},[1===t.options.type?i("el-input-number",{attrs:{min:0,step:100,size:"small","controls-position":"right"},model:{value:t.payPrice,callback:function(e){t.payPrice=e},expression:"payPrice"}}):i("el-input-number",{attrs:{min:0,step:100,size:"small","controls-position":"right"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1):t._e()],1),t._v(" "),i("el-row",[i("el-col",{staticStyle:{"margin-left":"80px"},attrs:{span:24}},[i("p",{staticClass:"prompt"},[t._v("\n                  提示:\n                  1.全款支付：项目多少钱，顾客就要支付多少钱；如有折扣价，支付折扣价即可；\n                  2.预约购买：项目按照预约价格支付，尾款到院线上支付；预约价格不能低于门店或折扣价格的10%；\n                  3.仅预约:只支付预约价格，不体现项目的门店价，保护项目价格隐私。\n                  4.门店价格可以为空且门店价格不能小于商品价格或预约价格。\n                ")])])],1),t._v(" "),i("h3",[t._v("完善信息")]),t._v(" "),i("el-form-item",{attrs:{label:"商品规格"}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-input",{attrs:{placeholder:"请输入规格名称"},model:{value:t.options.spec,callback:function(e){t.$set(t.options,"spec",e)},expression:"options.spec"}})],1),t._v(" "),i("el-col",{attrs:{span:5}},[i("el-select",{attrs:{filterable:"","allow-create":"",clearable:"",placeholder:"请选择单位"},on:{change:t.specUnitChange},model:{value:t.options.unit,callback:function(e){t.$set(t.options,"unit",e)},expression:"options.unit"}},t._l(t.specUnitSelect,function(t,e){return i("el-option",{key:e,attrs:{label:t.value,value:t.value}})}))],1)],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"上架时间",prop:"saleEndTime"}},[i("el-row",[i("el-col",{attrs:{span:24}},[i("div",{on:{click:function(e){t.options.salePolicy=0}}},[i("SelectTimeMonth",{style:{opacity:0===t.options.salePolicy?1:.5},attrs:{"start-time":t.options.createdAt||"","end-time":t.options.saleEndTime,"start-key":"saleStartTime","end-key":"saleEndTime"},on:{send:t.getData}})],1)])],1),t._v(" "),i("div",{on:{click:function(e){t.options.salePolicy=1}}},[i("SelecteTime",{style:{opacity:1===t.options.salePolicy?1:.5},attrs:{"start-time":t.options.saleStartTime,"end-time":t.options.saleEndTime},on:{"update:startTime":function(e){t.$set(t.options,"saleStartTime",e)},"update:endTime":function(e){t.$set(t.options,"saleEndTime",e)}}})],1),t._v(" "),i("p",{staticClass:"prompt"},[t._v("\n                提示:\n                1.固定时间：以添加商品的时间为开始时间，接下来固定时间内商品处于上架状态；\n                2.自定义上架时间：在某个时间段商品处于上架状态。\n              ")])],1),t._v(" "),i("el-form-item",{attrs:{prop:0===t.options.validPolicy?"validDays":"validEndTime",label:"有效日期"}},[i("el-row",[i("el-col",{attrs:{span:24}},[i("div",{style:{opacity:0===t.options.validPolicy?1:.3},on:{click:function(e){t.options.validPolicy=0}}},[i("el-radio-group",{on:{change:t.validSelectMonth},model:{value:t.options.validDays,callback:function(e){t.$set(t.options,"validDays",e)},expression:"options.validDays"}},[i("el-radio-button",{attrs:{label:"30"}},[t._v("一个月")]),t._v(" "),i("el-radio-button",{attrs:{label:"60"}},[t._v("两个月")]),t._v(" "),i("el-radio-button",{attrs:{label:"90"}},[t._v("三个月")])],1)],1),t._v(" "),i("div",{on:{click:function(e){t.options.validPolicy=1}}},[i("SelecteTime",{style:{opacity:1===t.options.validPolicy?1:.3},attrs:{"start-time":t.options.validStartTime,"end-time":t.options.validEndTime,title:"自定义有效时间"},on:{"update:startTime":function(e){t.$set(t.options,"validStartTime",e)},"update:endTime":function(e){t.$set(t.options,"validEndTime",e)}}})],1)])],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"商品详情",prop:"detail"}},[i("el-row",{staticStyle:{"margin-top":"30px"}},[i("el-col",{attrs:{span:23}},[i("Tinymce",{attrs:{toolbar:t.editeToolbar,value:t.options.detail},on:{"update:value":function(e){t.$set(t.options,"detail",e)}}})],1)],1)],1),t._v(" "),i("el-button",{staticStyle:{width:"100%",margin:"50px 0"},attrs:{type:"primary"},on:{click:t.submitData}},[t._v("提交")])],1)],1)])],1)])])},[],!1,null,"040f4266",null));N.options.__file="add.vue";e.default=N.exports},Bbut:function(t,e,i){"use strict";var n=i("YlTy");i.n(n).a},FyfS:function(t,e,i){t.exports={default:i("Rp86"),__esModule:!0}},KTTK:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getQiniuToken=function(t){var e=t?"?key="+t:"";return(0,n.default)({url:"/api/v1/qiniu/token/"+e,method:"get"})},e.getQiniuRefresh=function(t){return(0,n.default)({url:"/api/v1/qiniu/flush",method:"post",data:t})};var n=function(t){return t&&t.__esModule?t:{default:t}}(i("t3Un"))},LLrq:function(t,e,i){},MbX3:function(t,e,i){},"RU/L":function(t,e,i){i("Rqdy");var n=i("WEpk").Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},RnhZ:function(t,e,i){var n={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-SG":"zavE","./en-SG.js":"zavE","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function r(t){var e=o(t);return i(e)}function o(t){var e=n[t];if(!(e+1)){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}return e}r.keys=function(){return Object.keys(n)},r.resolve=o,t.exports=r,r.id="RnhZ"},Rp86:function(t,e,i){i("bBy9"),i("FlQf"),t.exports=i("fXsU")},Rqdy:function(t,e,i){var n=i("Y7ZC");n(n.S+n.F*!i("jmDH"),"Object",{defineProperty:i("2faE").f})},SEkw:function(t,e,i){t.exports={default:i("RU/L"),__esModule:!0}},"Su+a":function(t,e,i){},VKFn:function(t,e,i){i("bBy9"),i("FlQf"),t.exports=i("ldVq")},VpLE:function(t,e,i){"use strict";var n={name:"TitleTabs",props:{text:{type:String,required:!1,default:""}}},r=(i("2lAw"),i("KHd+")),o=Object(r.a)(n,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-container"},[e("span"),this._v("\n  "+this._s(this.text)+"\n")])},[],!1,null,"329ee37a",null);o.options.__file="index.vue";e.a=o.exports},Xme5:function(t,e,i){"use strict";var n=i("e1TD");i.n(n).a},YEIV:function(t,e,i){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(i("SEkw"));e.default=function(t,e,i){return e in t?(0,n.default)(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},YlTy:function(t,e,i){},aiWw:function(t,e,i){},cpj6:function(t,e,i){"use strict";var n=i("d6BN"),r={components:{vuescroll:i.n(n).a},data:function(){return{ops:{scrollPanel:{},rail:{},bar:{}}}}},o=(i("nU3l"),i("KHd+")),a=Object(o.a)(r,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"phone"},[e("div",{staticClass:"phone-Container"},[e("vuescroll",{attrs:{ops:this.ops}},[e("div",{staticClass:"scroll-coantainer"},[this._t("default")],2)])],1)])])},[],!1,null,"79b59bd4",null);a.options.__file="index.vue";e.a=a.exports},e1TD:function(t,e,i){},fXsU:function(t,e,i){var n=i("5K7Z"),r=i("fNZA");t.exports=i("WEpk").getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},glbJ:function(t,e,i){"use strict";var n=i("14Xm"),r=i.n(n),o=i("4d7F"),a=i.n(o),s=i("D3Ub"),l=i.n(s),c=i("GQeE"),u=i.n(c),p=i("KTTK"),d=i("eEY5"),f=i.n(d),m={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{qiniuData:{key:"",token:"",config:{},putExtra:{}},dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var t=this;return u()(this.listObj).every(function(e){return t.listObj[e].hasSuccess})},handleSubmit:function(){var t=this,e=u()(this.listObj).map(function(e){return t.listObj[e]});this.checkAllSuccess()?(this.$emit("successCBK",e),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！")},handleSuccess:function(t,e){for(var i=e.uid,n=u()(this.listObj),r=0,o=n.length;r<o;r++)if(this.listObj[n[r]].uid===i)return this.listObj[n[r]].url="https://img.kodin.cn//"+t.key,void(this.listObj[n[r]].hasSuccess=!0)},handleRemove:function(t){for(var e=t.uid,i=u()(this.listObj),n=0,r=i.length;n<r;n++)if(this.listObj[i[n]].uid===e)return void delete this.listObj[i[n]]},beforeUpload:function(t){var e=this;return l()(r.a.mark(function i(){var n,o,s,l;return r.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(p.getQiniuToken)();case 2:return n=i.sent,e.qiniuData.token=n.data.token,e.qiniuData.key=f.a.generate(32)+"."+t.name.split(".").pop(),o=e,s=window.URL||window.webkitURL,l=t.uid,e.listObj[l]={},i.abrupt("return",new a.a(function(e,i){var n=new Image;n.src=s.createObjectURL(t),n.onload=function(){o.listObj[l]={hasSuccess:!1,uid:t.uid,width:this.width,height:this.height}},e(!0)}));case 10:case"end":return i.stop()}},i,e)}))()}}},v=(i("m1gy"),i("KHd+")),h=Object(v.a)(m,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-container"},[i("el-button",{style:{background:t.color,borderColor:t.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("上传图片")]),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,data:t.qiniuData,"file-list":t.fileList,"show-file-list":!0,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"before-upload":t.beforeUpload,action:"https://upload.qiniup.com","list-type":"picture-card"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1),t._v(" "),i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确 定")])],1)],1)},[],!1,null,"27830937",null);h.options.__file="editorImage.vue";var g=h.exports,b=i("mhjD"),y=i.n(b),_=i("6htJ"),j=i.n(_),x={name:"Tinymce",components:{editorImage:g},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return["bold italic strikethrough | emoticons forecolor backcolor | alignleft aligncenter alignright |cut copy paste | undo redo removeformat"]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN"}}},computed:{language:function(){return this.languageTypeList[this.$store.getters.language]}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(e.tinymceId).setContent(t||"")})},language:function(){var t=this;this.destroyTinymce(),this.$nextTick(function(){return t.initTinymce()})}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{initTinymce:function(){var t=this,e=this;window.tinymce.init({language:this.language,selector:"#"+this.tinymceId,height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:j.a,menubar:"",plugins:y.a,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,branding:!1,init_instance_callback:function(i){e.value&&i.setContent(e.value),e.hasInit=!0,i.on("NodeChange Change KeyUp SetContent",function(){t.hasChange=!0,t.$emit("update:value",i.getContent())})},setup:function(t){t.on("FullscreenStateChanged",function(t){e.fullscreen=t.state})}})},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand("mceFullScreen"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach(function(t){window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'+t.url+'" >')})}}},k=(i("9fVM"),Object(v.a)(x,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:this.fullscreen}},[e("textarea",{staticClass:"tinymce-textarea",attrs:{id:this.tinymceId}}),this._v(" "),e("div",{staticClass:"editor-custom-btn-container"},[e("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:this.imageSuccessCBK}})],1)])},[],!1,null,"6c5bae5e",null));k.options.__file="index.vue";e.a=k.exports},gsVZ:function(t,e,i){"use strict";var n=i("LLrq");i.n(n).a},"k/8l":function(t,e,i){t.exports={default:i("VKFn"),__esModule:!0}},ldVq:function(t,e,i){var n=i("QMMT"),r=i("UWiX")("iterator"),o=i("SBuE");t.exports=i("WEpk").isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||o.hasOwnProperty(n(e))}},m1gy:function(t,e,i){"use strict";var n=i("9re7");i.n(n).a},mhjD:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"]},nGDx:function(t,e,i){var n=i("Y7ZC"),r=i("E8gZ")(!0);n(n.S,"Object",{entries:function(t){return r(t)}})},nU3l:function(t,e,i){"use strict";var n=i("MbX3");i.n(n).a},oF3Q:function(t,e,i){t.exports={default:i("tgZa"),__esModule:!0}},sk9p:function(t,e,i){"use strict";e.__esModule=!0;var n=o(i("k/8l")),r=o(i("FyfS"));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(){return function(t,e){if(Array.isArray(t))return t;if((0,n.default)(Object(t)))return function(t,e){var i=[],n=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(t);!(n=(s=l.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},tcnC:function(t,e,i){"use strict";var n=i("14Xm"),r=i.n(n),o=i("D3Ub"),a=i.n(o),s=i("fnnb"),l=i("zqLv"),c=i("KTTK"),u=i("eEY5"),p=i.n(u),d=i("S+eF"),f={components:{VueCropper:s.VueCropper},props:{fixedNumber:{type:Array,required:!1,default:function(){return[750,450]}},width:{type:Number,required:!1,default:90},height:{type:Number,required:!1,default:90},deleteSize:{type:Number,required:!1,default:5},value:{type:String,required:!1,default:""},deleteShow:{type:Boolean,required:!1,default:!0}},data:function(){return{dialogVisible:!1,imgFile:"",file:"默认图片",fileList:[],option:{img:"",size:1,outputType:"jpeg",autoCrop:!0,autoCropWidth:250,autoCropHeight:90,fixed:!0,fixedNumber:[750,450],canMove:!1,centerBox:!0}}},computed:{deleteSizeData:function(){return this.deleteSize+"px"},imgUrl:function(t){return this.image}},methods:{qiniuUp:function(t){var e=this;return a()(r.a.mark(function i(){var n,o,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.getQiniuToken)();case 2:return n=e.sent,o=n.data.token,a=l.upload(t.file,p.a.generate(32)+"."+t.file.name.split(".").pop(),o,{},{}),e.abrupt("return",new d.Promise(function(t,e){a.subscribe({next:function(t){},error:function(t){console.log(t),e(t)},complete:function(e){var i="https://img.kodin.cn//"+e.key;t(i)}})}));case 6:case"end":return e.stop()}},i,e)}))()},handleChange:function(t,e){if("ready"===t.status){var i=t.name.split(".");this.option.outputType=i[i.length-1],this.option.img=window.URL.createObjectURL(t.raw),this.dialogVisible=!0}},cropperImg:function(t){var e=this;return a()(r.a.mark(function t(){var i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=e,e.$refs.cropper.getCropBlob(function(){var t=a()(r.a.mark(function t(n){var o,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(o={file:n}).file.name="cropperImg."+n.type.split("/").pop(),t.next=4,e.qiniuUp(o);case 4:a=t.sent,i.dialogVisible=!1,i.$emit("update:value",a),i.$emit("change",a);case 8:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,e)}))()},deleteImg:function(){this.$emit("update:value","")}}},m=(i("5x1B"),i("KHd+")),v=Object(m.a)(f,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{visible:t.dialogVisible,"close-on-click-modal":!1,"append-to-body":!0,title:"图片裁剪",width:"40%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"cropperBox"},[i("VueCropper",{ref:"cropper",attrs:{img:t.option.img,"output-size":t.option.size,"output-type":t.option.outputType,"auto-crop":t.option.autoCrop,fixed:t.option.fixed,"fixed-number":t.fixedNumber,"can-move":t.option.canMove,"auto-crop-width":t.option.autoCropWidth,"auto-crop-height":t.option.autoCropHeight,"center-box":t.option.centerBox}})],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.cropperImg()}}},[t._v("裁 剪")])],1)]),t._v(" "),i("div",{staticClass:"uploadBox",style:{width:t.width+"px",height:t.height+"px"}},[""!=t.value&&t.value&&t.deleteShow?i("div",{staticClass:"delete",on:{click:t.deleteImg}},[i("el-button",{style:{padding:t.deleteSizeData},attrs:{type:"danger",icon:"el-icon-delete",circle:""}})],1):t._e(),t._v(" "),i("el-upload",{staticClass:"avatar-uploader",attrs:{"http-request":t.qiniuUp,"show-file-list":!1,multiple:!1,"on-change":t.handleChange,"auto-upload":!1,"file-list":t.fileList,action:""}},[t.value?i("img",{staticClass:"avatar",attrs:{src:t.value,height:t.height+"px"}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon",style:{width:t.width+"px",height:t.height+"px","line-height":t.height+"px"}})])],1)],1)},[],!1,null,"c348c6b4",null);v.options.__file="index.vue";e.a=v.exports},tgZa:function(t,e,i){i("nGDx"),t.exports=i("WEpk").Object.entries},vYwx:function(t,e,i){},wSkH:function(t,e,i){},xJXX:function(t,e,i){},xMja:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=l(i("sk9p")),r=l(i("oF3Q")),o=l(i("FyfS"));e.categories=function(t){var e="?";if(t){var i=!0,s=!1,l=void 0;try{for(var c,u=(0,o.default)((0,r.default)(t));!(i=(c=u.next()).done);i=!0){var p=(0,n.default)(c.value,2),d=p[0],f=p[1];e+=d+"="+f+"&"}}catch(t){s=!0,l=t}finally{try{!i&&u.return&&u.return()}finally{if(s)throw l}}e=e.substr(0,e.length-1)}return(0,a.default)({url:"api/v1/categories/"+e,method:"get"})},e.putOnSaleArticle=function(t,e){return t=t||"",(0,a.default)({url:"/api/v1/products/"+t,method:"put",data:{onSale:e}})},e.productList=function(t){var e="?";if(t){var i=!0,s=!1,l=void 0;try{for(var c,u=(0,o.default)((0,r.default)(t));!(i=(c=u.next()).done);i=!0){var p=(0,n.default)(c.value,2),d=p[0],f=p[1];e+=d+"="+f+"&"}}catch(t){s=!0,l=t}finally{try{!i&&u.return&&u.return()}finally{if(s)throw l}}}return e=e.substr(0,e.length-1),(0,a.default)({url:"api/v1/products/"+e,method:"get"})},e.getProductList=function(t){return(0,a.default)({url:"api/v1/products/"+(0,s.objToParams)(t),method:"get"})},e.productServe=function(t,e){return(0,a.default)({url:"api/v1/products",method:t||"get",data:e})},e.getOneProduct=function(t){return(0,a.default)({url:"api/v1/products/"+t,method:"get"})},e.putPruduct=function(t,e){return(0,a.default)({url:"api/v1/products/"+t,method:"put",data:e})},e.getDoctorList=function(){return(0,a.default)({url:"api/v1/doctors/chooseList",method:"get"})},e.putDoctorRecommend=function(t,e){return(0,a.default)({url:"api/v1/products/"+t+"/recommend",method:"put",data:{isRecommend:e}})};var a=l(i("t3Un")),s=i("z0WU");function l(t){return t&&t.__esModule?t:{default:t}}},xtIY:function(t,e,i){"use strict";var n={props:{titleName:{type:String,required:!1,default:""}},data:function(){return{}}},r=(i("Xme5"),i("KHd+")),o=Object(r.a)(n,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-row",[e("el-col",{staticClass:"labelContainer"},[e("div",{staticClass:"titlLabel"}),this._v(" "),e("span",[this._v(this._s(this.titleName))])])],1),this._v(" "),e("el-row",[e("el-col",[e("div",{staticClass:"content"},[this._t("default",[this._v("默认值")])],2)])],1)],1)},[],!1,null,"3653119d",null);o.options.__file="index.vue";e.a=o.exports},z0WU:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(i("gDS+")),r=s(i("/f1G")),o=s(i("GQeE")),a=s(i("EJiy"));function s(t){return t&&t.__esModule?t:{default:t}}e.undelinToHump=function(t){if("object"===(void 0===t?"undefined":(0,a.default)(t))){var e=(0,o.default)(t),i=(0,r.default)(t),n=[];e.forEach(function(t){var e=t.replace(/\_(\w)/g,function(t,e){return e.toUpperCase()});n.push(e)});var s={};return i.forEach(function(t,e){s[n[e]]=t}),s}console.error("undelinToHump:只接受对象")},e.objToParams=function(t){if(!t||"{}"===(0,n.default)(t))return"";var e=(0,o.default)(t),i=(0,r.default)(t),a="?";return e.forEach(function(t,n){a+=t+"="+i[n]+(e.length-1===n?"":"&")}),a}}}]);