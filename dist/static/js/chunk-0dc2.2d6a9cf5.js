(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0dc2"],{"/f1G":function(t,e,a){t.exports={default:a("nhzr"),__esModule:!0}},E8gZ:function(t,e,a){var r=a("jmDH"),u=a("w6GO"),i=a("NsO/"),o=a("NV0k").f;t.exports=function(t){return function(e){for(var a,n=i(e),l=u(n),s=l.length,c=0,d=[];s>c;)a=l[c++],r&&!o.call(n,a)||d.push(t?[a,n[a]]:n[a]);return d}}},OPts:function(t,e,a){},PRvh:function(t,e,a){"use strict";a.r(e);var r=a("s58v"),u={data:function(){return{followupData:[],orderStatusArr:[{label:"已支付",value:1},{label:"已核销",value:3},{label:"已退款",value:4}],submitData:{customer_id:"",total_price:"",product_name:"",pay_price:"",odd_price:"",status:"",pay_time:null,created_at:null,confirm_time:null},rules:{product_name:{required:!0,message:"请输入商品名称"},total_price:{required:!0,message:"请输入商品价格"},odd_price:{required:!0,message:"请输入线下支付价格"},status:{required:!0,message:"请选择订单支付状态"},created_at:{required:!0,message:"请选择下单时间"}}}},computed:{pay_price:{get:function(){return this.submitData.pay_price||0===this.submitData.pay_price?this.submitData.pay_price/100:null},set:function(t){this.submitData.pay_price=t?100*t:null}},odd_price:{get:function(){return this.submitData.odd_price||0===this.submitData.odd_price?this.submitData.odd_price/100:null},set:function(t){this.submitData.odd_price=t>=0?100*t:null}},total_price:{get:function(){return this.submitData.total_price||0===this.submitData.total_price?this.submitData.total_price/100:null},set:function(t){this.submitData.total_price=t||"0"===t?100*t:null}}},mounted:function(){this.$route.query.id&&(this.submitData.customer_id=this.$route.query.id)},methods:{handleSubmit:function(){var t=this;this.$refs.ruleForm.validate(function(e){e?Object(r.postOfflineOrder)(t.submitData).then(function(e){t.$message({message:"新增消费记录成功!",type:"success"}),t.$router.back()}).catch(function(t){console.log("TCL: handleSubmit -> err",t)}):t.$message.error("请核对信息")})}}},i=(a("XU2q"),a("KHd+")),o=Object(i.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("section",{staticClass:"content"},[a("el-form",{ref:"ruleForm",staticClass:"form-container",attrs:{model:t.submitData,rules:t.rules,"label-width":"120px","label-position":"right"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"product_name"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入商品名称"},model:{value:t.submitData.product_name,callback:function(e){t.$set(t.submitData,"product_name",e)},expression:"submitData.product_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品价格",prop:"total_price"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入商品价格"},model:{value:t.total_price,callback:function(e){t.total_price=e},expression:"total_price"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"线下支付",prop:"odd_price"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入线下支付价格"},model:{value:t.odd_price,callback:function(e){t.odd_price=e},expression:"odd_price"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"订单状态",prop:"status"}},[a("el-select",{model:{value:t.submitData.status,callback:function(e){t.$set(t.submitData,"status",e)},expression:"submitData.status"}},t._l(t.orderStatusArr,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"下单时间",prop:"created_at"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择下单时间"},model:{value:t.submitData.created_at,callback:function(e){t.$set(t.submitData,"created_at",e)},expression:"submitData.created_at"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"付款时间",prop:"name"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择付款时间"},model:{value:t.submitData.pay_time,callback:function(e){t.$set(t.submitData,"pay_time",e)},expression:"submitData.pay_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"核销时间",prop:"name"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择核销时间"},model:{value:t.submitData.confirm_time,callback:function(e){t.$set(t.submitData,"confirm_time",e)},expression:"submitData.confirm_time"}})],1),t._v(" "),a("div",{staticClass:"button-container"},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("提交")]),t._v(" "),a("el-button",{on:{click:function(e){t.$router.back()}}},[t._v("返回")])],1)],1)],1)])},[],!1,null,"437fd7b7",null);o.options.__file="addConsume.vue";e.default=o.exports},XU2q:function(t,e,a){"use strict";var r=a("OPts");a.n(r).a},fW1p:function(t,e,a){var r=a("Y7ZC"),u=a("E8gZ")(!1);r(r.S,"Object",{values:function(t){return u(t)}})},"gDS+":function(t,e,a){t.exports={default:a("oh+g"),__esModule:!0}},nhzr:function(t,e,a){a("fW1p"),t.exports=a("WEpk").Object.values},"oh+g":function(t,e,a){var r=a("WEpk"),u=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return u.stringify.apply(u,arguments)}},s58v:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getClientList=function(t){var e=(0,u.objToParams)(t);return(0,r.default)({url:"/api/v1/user/list/"+e,method:"get"})},e.getClient=function(t){return(0,r.default)({url:"/api/v1/user/"+t,method:"get"})},e.postClient=function(t,e,a){return(0,r.default)({url:"/api/v1/user/"+(a||""),method:e||"post",data:t})},e.postSource=function(t){return(0,r.default)({url:"/api/v1/user/source",method:"POST",data:t})},e.getSourceList=function(){return(0,r.default)({url:"/api/v1/user/source",method:"get"})},e.delSource=function(t){return(0,r.default)({url:"/api/v1/user/source/"+t,method:"DELETE"})},e.postOfflineOrder=function(t){return(0,r.default)({url:"/api/v1/order/offline",method:"post",data:t})},e.getClientFollowup=function(t){return(0,r.default)({url:"api/v1/followup/"+(0,u.objToParams)(t),method:"get"})},e.postlientFollowup=function(t){return(0,r.default)({url:"api/v1/followup",method:"post",data:t})};var r=function(t){return t&&t.__esModule?t:{default:t}}(a("t3Un")),u=a("z0WU")},z0WU:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(a("gDS+")),u=n(a("/f1G")),i=n(a("GQeE")),o=n(a("EJiy"));function n(t){return t&&t.__esModule?t:{default:t}}e.undelinToHump=function(t){if("object"===(void 0===t?"undefined":(0,o.default)(t))){var e=(0,i.default)(t),a=(0,u.default)(t),r=[];e.forEach(function(t){var e=t.replace(/\_(\w)/g,function(t,e){return e.toUpperCase()});r.push(e)});var n={};return a.forEach(function(t,e){n[r[e]]=t}),n}console.error("undelinToHump:只接受对象")},e.objToParams=function(t){if(!t||"{}"===(0,r.default)(t))return"";var e=(0,i.default)(t),a=(0,u.default)(t),o="?";return e.forEach(function(t,r){o+=t+"="+a[r]+(e.length-1===r?"":"&")}),o}}}]);